name: License Lib - Dependency Review
on: [pull_request]
    # paths:
    # - './src/lib/**'
jobs:
    dependency-review:
        runs-on: ubuntu-latest
        defaults:
          run:
            working-directory: ./src/lib
        steps:
            - name: Checkout
              uses: actions/checkout@v4
            - name: 'License Review'
              uses: actions/dependency-review-action@v2.5.1
              with:
                fail-on-severity: critical
                allow-licenses: LGPL-2.1
    ledmon-dependency-review:
        runs-on: ubuntu-latest
        strategy:
          matrix: { dir: ['./src/ledmon', './src/ledctl', './src/common'] }
        defaults:
          run:
            working-directory: ${{ matrix.dir }}
        steps:
            - name: Checkout
              uses: actions/checkout@v4
            - name: 'License Review'
              uses: actions/dependency-review-action@v2.5.1
              with:
                fail-on-severity: critical
                allow-licenses: GPL-2.0

